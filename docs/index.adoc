= Bareboat Necessities Documentation
mgrouch <mgrouch@users.noreply.github.com>
0.5, Dec 2, 2019, Bareboat Projects Documentation
:toc:
:toclevels: 4
:sectnums:
:sectnumlevels: 3
:encoding: utf-8
:lang: en
:title-logo-image: image:../../bareboat-necessities-logo.svg[Bareboat Necessities Logo]
:imagesdir: images
:icons: font
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]
:toc-placement!:

{zwsp} +

image::../../bareboat-necessities-logo.svg[Bareboat Necessities Logo]

{zwsp} +

https://github.com/bareboat-necessities/my-bareboat

{zwsp} +

toc::[]

{zwsp} +

== Boat Electronics Project

This document describes a DIY project of building a boat computer and a cockpit display
from easily obtainable and affordable components. The computer includes:

* GNSS (GPS, etc) receiver
* Sensors for orientation (gyroscope, compass via IMU)
* AIS radar
* Environment temperature, barometric pressure, humidity sensors
* Connections to the boat instruments such as wind, depth, speed via NMEA 0183 serial ports
* Optional autopilot integration
* Other NMEA devices
* Optional WiFi hotspot and router with WiFi extender and long range waterproof WiFi antenna
* Optional LTE / 4G Gateway
* Optional air mouse with a wireless keyboard and a touchpad
* Lightning EMI sensor and alarm
* RTL-SDR for weather fax, AIS, RTL 433, etc
* IoT Integration via MQTT

The computer is connected to the waterproof HDMI touchscreen in
the cockpit. NMEA 2000 was not in scope of this project.

=== Boat Computer

The computer runs on Raspberry Pi (Raspbian Linux) with OpenPlotter 2.0 installed. The computer will reside below deck so
it's not going to be waterproof. The touchscreen will display OpenPlotter UI with OpenCPN chart plotter and dashboards as well as
general Linux UI.

*Front View*

.Front View
image::computer-front-panel.jpg[alt="Front View"]

{zwsp} +

*The front panel interfaces:*

* 1 USB 3.0 data port
* 1 USB 2.0 data port
* 1 HDMI port
* 1 AUX audio port
* Status indicators via fiber-optic light pipes
* Fuse box panel mount
* On/Off power switch for the computer
* On/Off power switch for cockpit instruments

{zwsp} +

.Front Panel
image::front-panel-intf.jpg[alt="Front Panel"]

{zwsp} +

*The back panel interfaces:*

* 1 Ethernet port 1Gbit (for the WiFi router)
* 1 USB 2.0 port for GPS (or something else)
* 2 NMEA-0183 ports
* 2 DC power 2-wire cords mounted inside waterproof glands for 12v boat and cockpit connections. SAE-type connectors
* HDMI and USB 3.0 connectors to the cockpit display and touchscreen
* RF connector for AIS antenna
* RF connector for RTL-SDR antenna
* RF connector for a secondary GPS

{zwsp} +

.Back Panel
image::back-panel-intf.jpg[alt="Back Panel"]

{zwsp} +

*Inside View*

.Inside View
image::computer-internals.jpg[alt="Inside View"]

{zwsp} +

On the picture 7-Port powered USB 3.0 hub, dAISy AIS, Raspberry Pi 4 with a cooling fan and heat sinks,
serial-to-USB stick (with the chipset from FTDI), SSD, RTL-SDR RF stick. 12v to 5v step-down converter is
located below this layer inside the housing box and is connected to the front panel via a fuse and
a switch on the front panel.

You can customize the front and back panels for your needs.

==== Simple Schematics

.Boat Computer Diagram
image::boat-computer.svg[alt="Boat Computer Diagram"]

{zwsp} +

Raspberry Pi 4 has also WiFi and BlueTooth interfaces:

* 802.11ac/n
* Bluetooth 5.0

WiFi can be used to set up access to the boat computer from smart phones and tablets
with additional software.

==== Enclosure

===== Enclosure Parts



[cols="4", options="header"]
|===



|Item
|Description
|Cost
|Source



| Case
a| Brand: SZOMK,  Model: AK-D-09, IP54 protection, plastic box for PCB design instrument. Black.
Dimensions exterior: W 230mm, D 210mm, H 86mm

* Brand (from inside markings): BAHAR
* Model: BDH 20014-A2

https://szomk.en.alibaba.com/product/60455131585-213058437/Customized_case_box_enclosure_for_gsm_modem_plastic_enclosures.html

| $17.10, Delivery: $13 | Alibaba



| Plastic sheets

a|ABS Black Plastic Sheets Size 12" x 12", 0.118"-1/8" thick, 2-Pack, 1 Side Textured, Black

https://www.ebay.com/itm/ABS-Black-Plastic-Sheets-You-Pick-The-Size-1-2-4-8-Pack-Options-1-Side-Textured/142746168237

| $19.20 | Ebay



| 12v to 5v step-down converter

a|TOBSUN EA50-5V DC 12V 24V to DC 5V 10A 50W Converter Regulator 5V 50W Power Supply Step Down Module Transformer

* Over-voltage, over-current, over-temperature, short-circuit auto protection
* Input voltage: 12/24V, Output: 5V/10A

https://www.amazon.com/dp/B01M03288J

| $9.60 | Amazon



| Screws, Nuts

a| Screws, nuts, etc

| $10 | Microcenter



| Standoffs
a| Hilitchi 120Pcs M3 Nylon Hex Spacers Screw Nut Standoff Plastic Accessories Assortment (Black)

* UNSPSC Code: 31161816
* Thread Size: M3
* Part Number: HNLM3

https://www.amazon.com/dp/B012G6E62I

| $6 | Amazon



| Cable ties
a| Cable ties

| $5 | Homedepot



| Soldering
a| Soldering Iron Kit - Soldering Iron 60 W Adjustable Temperature, Digital Multimeter, Wire Cutter,
Stand, Soldering Iron Tip Set, Desoldering Pump, Solder Wick, Tweezers, Rosin, Wire - [110 V, US Plug]

* Heat Time: 60 seconds
* Wattage: 60
* UNSPSC Code: 41110000

https://www.amazon.com/dp/B07Q2B4ZY9

| $35 | Amazon

|===


===== Front Panel

.Front Panel Diagram
image::front-panel.svg[alt="Front Panel Diagram"]

{zwsp} +

[cols="4", options="header"]
|===



|Item
|Description
|Cost
|Source



| 2-Wire DC connector (Red, Black)

a| SAE Connector DC Power Cable, 16 AWG Quick Disconnect, Dust Cap (6 Pcs 1.2 Foot)

https://www.amazon.com/dp/B07MP9MYKP

| $13 | Amazon



| 2-Wire DC connector (Red, White)

a| SAE Connector DC Power Cable, 16 AWG Quick Disconnect

NOTE: Used with 5v to distinguish from red/black for 12v

| $3 | Autozone



| USB 2.0 / HDMI

a| USB 2.0 HDMI Mount Cable â€“ USB Extension Flush, Dash, Panel Mount Boat Cable (3.3FT/1m)

https://www.amazon.com/dp/B076DFRPLZ

| $10 | Amazon



| USB 3.0 / AUX

a| USB 3.0 & Flush Mount Cable + USB3.0 AUX Extension Dash Panel Waterproof Mount Cable
for Boat, Car and Motorcycle - 3ft

https://www.amazon.com/dp/B072KGMJ5N

| $10 | Amazon



| Panel, etc

a| Cllena Dual USB Socket Charger 2.1A&2.1A + LED Voltmeter + 12V Power Outlet + 5 Gang ON-Off Toggle Switch
Multi-Functions Panel for Car Boat Marine RV Truck Camper Vehicles GPS Mobiles

https://www.amazon.com/dp/B0785LZQLK

NOTE: Used for panel parts: Voltmeter, Switches, Fuses, 12v DC Wires

| $34 | Amazon



| Light Pipes
a| Fiber optic light pipes with lenses for panel mount for transfer of inside LED indicators light
to the front panel

* SMFLP12.0 492-1291-ND LIGHT PIPE CLEAR FLEXIBLE 12" (10 pack)

* Brand: Bivar Inc

* 4mm Board/Panel Mount

https://www.digikey.com/product-detail/en/bivar-inc/SMFLP12.0/492-1291-ND/2407239

| $28, Delivery: $9 | DigiKey



| Fuse Box for Panel Mount

a| Pack of 10 AC 15A 125V Black Electrical Panel Mounted Screw Cap Fuse Holder

* Fit for: 6 x 30mm fuses
* Rated: AC 125V 15A

https://www.amazon.com/dp/B012CTCWES

| $6 | Amazon



| Heat Shrink
a| 450pcs Heat Shrink Wire Connectors DIY Kit Heat Shrink Butt Connectors Crimping Tool Heat Shrink Tubing Heat Gun
Waterproof Marine Automotive Terminals Set

https://www.amazon.com/dp/B07W41Y7CF

| $42 | Amazon

|===

===== Back Panel

[cols="4", options="header"]
|===



|Item
|Description
|Cost
|Source


| RF connector for RTL-SDR to panel

a| SMA Male to UHF PL-259 Male RG316 RF Coax Cable 1 ft

* Impedance: 50 ohm; Length: 1 ft
* Ultra Low-loss Double Shielded RG316 Coaxial Cable

https://www.amazon.com/dp/B07TF6LZC7

| $11.30 | Amazon



| RF Connector to panel

a| SMA Socket Connector Panel Chassis Mount SMA Female to Female Bulkhead Extendable Antenna Jack Adapter
for Antennas Wireless LAN Devices Coaxial Cable, Pack of 2

* Antenna cable connector SMA female to female bulkhead jack adapter
* Surface treatment: Gold-plated, Impedance: 50ohm, Low-loss

https://www.amazon.com/dp/B07FKPJ4QQ

| $6 | Amazon



| AIS Antenna panel connector

a| 2pcs SO239 Adapter UHF Female to Female Jack Bulkhead RF Connector, Impedance:50 Ohm

https://www.amazon.com/dp/B01MR16V5X

| $9.60 | Amazon



| RF chord for dAISy AIS

a| BNC Male to PL259 RG58 Cable (8 Inches); UHF PL259 Jack to BNC Male Plug Adapter Jumper Pigtail Cable RG58

* Connector: BNC Male to PL259
* Impedance: 50 Ohm
* Cable Type: RG58

https://www.amazon.com/dp/B07MK8FM94

| $5.60 | Amazon



| RJ45

a| CAT6 RJ45 Shielded Industrial Panel Mount Bulkhead Female/Female Feed Thru Coupler -
Network Connectors - IP67 Waterproof/Dust Cap (Single Pack, Black)

https://www.amazon.com/dp/B01D0N7AI8

| $11.50 | Amazon



| Breadboard
a| Electronics-Salon 4x Prototype Breakout PCB Shield Board Kit for Raspberry Pi 3 2 B+ A+, Breadboard DIY

https://www.amazon.com/dp/B07BF8Z3HS

| $15 | Amazon



| Terminal Block for NMEA 0183

a| Brand Name: QSU

Screw Terminal Block Kit **Long** Pins 5 mm Pitch 2, 3, 4 Pole (40 pcs)

https://www.amazon.com/dp/B07RTHD45H

| $9.50 | Amazon



| USB 2.0 Panel Mount

a| USB2.0 IP67 Waterproof Connector Industrial Standard Double Head Coupler Adapter Female to Female Socket
Plug Panel Mount with Waterproof/Dust Cap, 2pcs

https://www.amazon.com/dp/B07RPW5XGB

| $13 for 2 | Amazon



| Waterproof Cable Glands

a| 35pcs Cable Gland Waterproof Cable Fixing Head Suitable for 3mm-14mm M12 M16 M18 M20 M22 Cable Gland Joints Assortment Set (M-Black)

https://www.amazon.com/dp/B07TSC34D5

| $11 | Amazon



| HDMI adapters
a| Cable Matters 2-Pack Micro HDMI to HDMI Adapter (HDMI to Micro HDMI Adapter) 6 Inches with 4K and HDR Support

https://www.amazon.com/dp/B00JDRHQ58

| $9 | Amazon



| GPS G-mouse
a| GlobalSat BU-353-S4 USB GPS Receiver (Black)

* 48-Channel All-In-View Tracking
* SiRF Star IV GPS Chipset
* WAAS/ EGNOS Support

https://www.amazon.com/dp/B008200LHW

| $26.10 | Amazon



| GPS Antenna

a| Waterproof Active GPS Antenna with Magnetic Base - 28dB - 3-5V - SMA Connector and Adapter Included

* compatible with BerryGPS-IMU
* Magnetic base for easy placement
* Cable length is 3 meters[9.8 Feet]
* Includes SMA to uFL connector
* Active 28dB

https://www.amazon.com/dp/B0769FRT6X

| $11.50 | Amazon



| Optional GPS Antenna

a| GPS Boat Antenna Compatible with Beidou 30dB SMA Male External Navigation Receiver 0.2 Meter Wire

* Connector: SMA Male
* Voltage: 3-5 Volt
* LNA Gain (Without Cable): 30dB
* Operating Temperature (Deg.C): -45~+85
* Center Frequency: 1575.42 MHz(GPS); 1561 MHz(BD)

https://www.amazon.com/dp/B07ZBVG1PK

| $16.25 | Amazon

|===


===== Assembly Activities

Make sure you use correct tools for:

* Measuring
* Cutting
* Clamping
* Drilling
* Heat Shrinking
* Tying
* Crimping
* Screwing

===== Tools

 Drill, Screwdriver, Drill bits, Large hole drill bit, Cutting knife, Caliper,
 Soldering Kit, Rotary Tool (Like Dremel), Heat Gun, Crimper Tool



==== Computer and Sensors

===== Raspberry Pi 4

.Raspberry Pi 4 Diagram
image::RaspberryPi_4_Model_B.svg[alt="Raspberry Pi 4 Diagram"]

{zwsp} +

This file is licensed under the Creative Commons Attribution-Share Alike 4.0 International license

https://creativecommons.org/licenses/by-sa/4.0/deed.en

====== Sensors and Parts

[cols="4", options="header"]
|===



|Item
|Description
|Cost
|Source



| Pi 4
a| Raspberry Pi 4, 4Gb + Power Supply

| $65 | Amazon



| Heat sinks and Cooling fan, Case

a| Acrylic Case for Raspberry Pi 4 Model B & Raspberry Pi 3 Model B+, Raspberry Pi Case with Cooling Fan and
7PCS Heatsinks for Raspberry Pi 3/2 Model B/B+ (Brown)

https://www.amazon.com/dp/B07T3DRB1C

| $9 | Amazon




| USB Hub

a| USBGear 7-Port USB 3.0 Charging and SuperSpeed Mountable Data Hub

https://www.amazon.com/dp/B012DZ4RJY

| $35 | Amazon



| FTDI Serial to USB (2pcs)

a| DSD TECH SH-U11 USB to RS485 RS422 Converter with FTDI FT232 Chip Compatible with Windows 10, 8, 7, XP and Mac OS X

https://www.amazon.com/dp/B07B416CPK

| $34 (for 2) | Amazon



| SSD Drive
a| TBD: Model
| $45 | Amazon



| SD Card
a| TBD: Model
| $25 | Amazon



| dAISy AIS + BNC Adapter
a|
https://shop.wegmatt.com/products/daisy-ais-receiver?variant=7104299008036

| $67.70 | wegmatt.com



| RTL-SDR

a| RTL-SDR Blog V3 R820T2 RTL2832U 1PPM TCXO HF Bias Tee SMA Software Defined Radio with Dipole Antenna Kit

https://www.amazon.com/dp/B011HVUEME

| $30 | Amazon




| IMU + environmental sensors

a| BerryGPS-IMUv3 - GPS and 10DOF for The Raspberry Pi - Accelerometer, Gyroscope, Magnetometer and Barometric/Altitude Sensor

https://www.amazon.com/dp/B072MNBC9M

| $53.50 | Amazon



| Tram VHF Marine Antenna
a| https://www.amazon.com/dp/B01DUSBJ94

 For AIS

| $24.15 | Amazon



| Jumper Wires
a| 120pcs Breadboard Jumper Wires 10cm 15cm 20cm 30cm 40cm 50cm 100cm Optional Arduino Wire Dupont Cable Assorted
Kit Male to Female Male to Male Female to Female Multicolored Ribbon Cables

https://www.amazon.com/dp/B07GD2BWPY

| $5.80 | Amazon



| Waterproofing Spray for PCB, Conformal Coating

a| 422B-340G Silicone Conformal Coating, Clear, 12 oz Aerosol

https://www.amazon.com/dp/B008O9YGQI

| $22.45 | Amazon


|===


===== Assembly Activities

Make sure you use correct tools for:

* Gluing
* Soldering
* Screwing

=== Cockpit Display and Chartplotter

.Cockpit Display Diagram
image::cockpit-display.svg[alt="Cockpit Display Diagram"]

{zwsp} +


[cols="4", options="header"]
|===



|Item
|Description
|Cost
|Source



| NavPod
a| NavPod GP2300

| $225, Shipping: $9 | anchorexpress.com



| 5V/6V 3A Switch-mode UBEC, Max 5A Lowest RF
a|
https://www.amazon.com/dp/B008ZNWOYY

| $3 | Amazon



| Waterproof touch screen
a| Argonaut M7-gen2 + Water Sealed back

https://www.argonautcomputer.com/products/m7-smart-touch-monitor

| $518 | argonautcomputer.com



| DC Wire to cockpit
a| Marine Wire

https://www.amazon.com/dp/B01FRK09OY

| $25.50 | Amazon



| Female to Female HDMI adapter
a|
* Compatible with HDMI standard (4K video at 60 Hz, 2160p, 48-bit/px color depth)
* Supports bandwidth up to 18Gbps
* backwards compatible with earlier versions

https://www.amazon.com/dp/B07K6HKD8S

| $4.75 | Amazon



| Standard Horizon MMB-97 Flush Mount Kit for Explorer GX1600/GX1700

a|
https://www.amazon.com/dp/B004NZOV8A

| $16.50 | Amazon



| USBGear 4-Port USB 3.0 Mountable Charging and 5Gbps Data Hub

a|
* Supports Super-Speed USB 3.0 over each port with transfer rates up to 5Gbps.
* Power Adapter: 5V 2A output, 100-240V, 50/60Hz 0.40A

https://www.amazon.com/dp/B012DZ4NJ8

| $29 | Amazon



| USB 3.0 Extension Cable 20ft, Hftywy USB Type A Male to Female Extension Cord 5Gbps Data Transfer, Red

a|
https://www.amazon.com/dp/B07XF3GM1W

| $13 | Amazon


| Long HDMI Cable
a| Postta HDMI Cable(25 Feet) Ultra HDMI 2.0V Cable with 2 Piece Cable Ties+2 Piece HDMI Adapters
Support 4K 2160P,1080P,3D,Audio Return and Ethernet, Blue

https://www.amazon.com/dp/B075YPT2F1

| $14 | Amazon



| Air Mouse and wireless keyboard and touchpad
a|
H18+ 2.4Ghz Mini Wireless Keyboard Touchpad Combo with 3 Level Backlit Rechargeable Full Screen Mouse Remote Control
for Android TV Box, Projector, IPTV, HTPC, PC, Laptop

https://www.amazon.com/dp/B0776T8QDC

| $20 | Amazon



| AcuRite 02020 Portable Lightning Detector
a|
* Detects lightning bolts and storms within 25 miles
* Warning light, audible alarm and text alerts

https://www.amazon.com/dp/B00EO1H3X8

| $30 | Amazon



| Wireless Phone Charger and Holder
a| ScanStrut ROKK Wireless - Active (SC-CW-04E) 12v / 24v Waterproof Wireless Phone Charging Mount

https://scanstrut.com/products/waterproof-wireless-charge/rokk-sc-wc-04-detail

| $97.60 | hodgesmarine.com


|===


=== Boat WiFi Network

[cols="4", options="header"]
|===



|Item
|Description
|Cost
|Source



| WiFi Router
a|
GL.iNet GL-AR750 Travel AC Router, 300Mbps(2.4G)+433Mbps(5G) Wi-Fi, 128MB RAM, MicroSD Storage Support, OpenWrt/LEDE

* OpenWrt/LEDE (open source)
* OpenVPN client pre-installed
* 128MB RAM, up to 128GB MicroSD slot, USB 2.0 port, three Ethernet ports, and optional PoE module

https://www.amazon.com/dp/B07712LKJM

| $45 | Amazon



| Long Range WiFi Antenna
a|
Lysignal Outdoor Omni Directional Antenna Fiberglass 2.4GHz 8dBi N Female Connector for Cell
Phone Signal Booster, WiFi Router

* Complies with all 802.11n/b/g (2.4GHz) products
* High power, high gain outdoor wifi antenna. Extend coverage of a wireless network in all directions
* Waterproof, striking resistant, anti-corrosion

https://www.amazon.com/dp/B07PG8RPSL

| $36 | Amazon

|===

The router needs to be modified to add external 2.4GHz antenna. Test U.FL connectors need to be removed
and real ones should be soldered. The existing U.FL connector is used by internal 5G band antenna.
See here:

https://www.arednmesh.org/comment/12706#comment-12706

==== Local WiFi

===== VNC

https://www.realvnc.com/raspberrypi/

==== WiFi Gateway

https://www.gl-inet.com/products/gl-ar750/

===== OpenVPN

https://openvpn.net/

===== OpenWrt

https://openwrt.org/

===== LongFi Helium

https://www.helium.com/

=== Boat IoT

==== MQTT

http://mqtt.org/

http://mosquitto.org/

==== M5Stack ESP32

https://m5stack.com/

==== RTL 433

https://github.com/merbanan/rtl_433

=== Boat Cellular LTE Voice and Data Gateway

==== SMS

==== OpenAirInterface

https://www.openairinterface.org/


== Pole for Sailboat Solar Panel / Wind Generator

This is no welding, no bends solution. The pole is built from universal stainless steel marine components.
To reproduce this design you would need only a pipe cutter tool and a drill.
The top is quick release adjustable angle (two axis). Removable for winter storage.
The solar panel is quickly detachable and removable.

[.text-center]

.Solar Panel/Wind Generator/Radar Pole Mast for Sailboat
image::solar-panel-wind-generator-radar-sailboat-pole-mast.png[alt="Solar Panel/Wind Generator/Radar Pole Mast for Sailboat"]

{zwsp} +

[.text-center]

.Solar Panel/Wind Generator/Radar Pole Mast for Sailboat View
image::solar-panel-wind-generator-radar-sailboat-pole-mast-2.jpg[alt="Solar Panel/Wind Generator/Radar Pole Mast for Sailboat View"]

{zwsp} +

== Links

* https://opencpn.org/[OpenCPN]

* http://sailoog.com/openplotter[OpenPlotter]

* https://www.raspberrypi.org/[RaspberryPi]

* https://m5stack.com/[M5Stack]

* https://www.rtl-sdr.com/[Rtl Sdr Blog]

* http://signalk.org/[SignalK]

* http://www.stripydog.com/kplex/[KPlex]

* https://www.openairinterface.org/[OpenAirInterface]

* https://openwrt.org/[OpenWrt]

* https://github.com/merbanan/rtl_433[IoT RTL 433]

